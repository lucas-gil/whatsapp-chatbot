
ğŸ“Š ARQUITETURA VISUAL - GEMINI + VENDEDOR VIRTUAL

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                          ğŸŒ INTERNET
                              |
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Google Gemini   â”‚
                    â”‚      API         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†‘
                              â”‚
                        generateAIResponse()
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
        â†“                     â†“                     â†“
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   WhatsApp â”‚      â”‚  Painel Adminâ”‚      â”‚  Endpoints â”‚
    â”‚  Browser   â”‚      â”‚   Next.js    â”‚      â”‚   REST     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                     â†“                     â†“
        â”‚                     â”‚                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Node.js API Server     â”‚
                    â”‚   (Express)              â”‚
                    â”‚                          â”‚
                    â”‚  Routes:                 â”‚
                    â”‚  - /api/product/data     â”‚
                    â”‚  - /api/ai/generate-resp â”‚
                    â”‚  - /api/whatsapp/...     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   â”‚
                    â†“                   â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Gemini     â”‚    â”‚  Dados do    â”‚
            â”‚  Config      â”‚    â”‚  Produto     â”‚
            â”‚  (em memÃ³ria)â”‚    â”‚  (em memÃ³ria)â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FLUXO DE CONFIGURAÃ‡ÃƒO:

    UsuÃ¡rio (no Painel)
          â†“
    Preenche FormulÃ¡rio
          â†“
    Clica "Salvar"
          â†“
    POST /api/product/data
          â†“
    Salva em MemÃ³ria (server)
          â†“
    âœ… Configurado!


FLUXO DE RESPOSTA IA:

    Cliente (WhatsApp)
          â†“
    Envia Mensagem
          â†“
    Recebida pela API
          â†“
    POST /api/ai/generate-response
          â†“
    Chama: generateAIResponse()
          â†“
    Conecta ao Gemini
          â†“
    Processa com Prompt
          â†“
    Retorna Resposta IA
          â†“
    Envia para Cliente
          â†“
    âœ… Cliente Recebe!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

COMPONENTES CRIADOS:

1. src/gemini-config.js
   â”œâ”€ GoogleGenerativeAI()
   â”œâ”€ generateAIResponse()
   â”œâ”€ updateProductData()
   â”œâ”€ getProductData()
   â””â”€ VENDOR_PROMPT()

2. src/ai-processor.js
   â”œâ”€ processMessageWithAI()
   â””â”€ getAutoReplyWithAI()

3. /apps/admin/src/app/product/page.tsx
   â”œâ”€ Interface de ConfiguraÃ§Ã£o
   â”œâ”€ FormulÃ¡rio de Produto
   â””â”€ SeÃ§Ã£o de Teste

4. whatsapp-web-server.js (modificado)
   â”œâ”€ GET /api/product/data
   â”œâ”€ POST /api/product/data
   â””â”€ POST /api/ai/generate-response

5. Sidebar.tsx (modificado)
   â””â”€ + Menu "Configurar Produto"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

REGRAS DO VENDEDOR VIRTUAL (Prompt):

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         VENDEDOR VIRTUAL               â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                        â”‚
    â”‚ âœ… NUNCA deixa sem resposta            â”‚
    â”‚    â””â”€ Acolhimento + Perguntas         â”‚
    â”‚                                        â”‚
    â”‚ âœ… NÃƒO inventa dados                  â”‚
    â”‚    â””â”€ SÃ³ fala o que sabe              â”‚
    â”‚                                        â”‚
    â”‚ âœ… PersuasÃ£o Ã©tica                    â”‚
    â”‚    â””â”€ Destaca benefÃ­cios reais        â”‚
    â”‚                                        â”‚
    â”‚ âœ… CTA claro                          â”‚
    â”‚    â””â”€ Finaliza com aÃ§Ã£o               â”‚
    â”‚                                        â”‚
    â”‚ âœ… Respostas curtas                   â”‚
    â”‚    â””â”€ 0-3 emojis, linguagem simples   â”‚
    â”‚                                        â”‚
    â”‚ âœ… SeguranÃ§a                          â”‚
    â”‚    â””â”€ Recusa pedidos ilegais          â”‚
    â”‚                                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FLUXO DO USUÃRIO:

    1. Abre Painel Admin
       http://localhost:3001
             â†“
    2. Acessa Menu â†’ "Configurar Produto"
             â†“
    3. Preenche Dados (Nome, DescriÃ§Ã£o, PreÃ§o, etc)
             â†“
    4. Clica "Salvar ConfiguraÃ§Ãµes"
             â†“
    5. VÃª seÃ§Ã£o "Testar Vendedor Virtual"
             â†“
    6. Digite uma pergunta
             â†“
    7. Clica "Testar Resposta"
             â†“
    8. VÃª resposta IA gerada
             â†“
    âœ… PRONTO! Vendedor virtual funcionando!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EXEMPLO DE RESPOSTA:

    Input: "Qual Ã© o preÃ§o?"
       â†“
    Vai para Gemini com:
       - Contexto do produto
       - Prompt de vendas
       - Mensagem do cliente
       â†“
    Gemini processa:
    "VocÃª Ã© vendedor de R$ 29,90/mÃªs com..."
    "Cliente perguntou: Qual Ã© o preÃ§o?"
       â†“
    Output:
    "Ã“timo! ğŸ˜Š
     Oferecemos a partir de R$ 29,90/mÃªs com:
     âœ… Todos os canais
     âœ… Filmes em 4K
     âœ… Esportes ao vivo
     
     Qual seria seu perfil? (BÃ¡sico/Completo)"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

LIMITES:

- Mensagem cliente: 500 caracteres
- Resposta IA: 1000 caracteres (limite WhatsApp)
- Timeout: 120 segundos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STATUS:

âœ… Backend ........................ Pronto
âœ… Frontend ....................... Pronto
âœ… IntegraÃ§Ã£o Gemini .............. Pronta
âœ… Endpoints ...................... Prontos
âœ… Menu Admin ..................... Atualizado
âœ… DocumentaÃ§Ã£o ................... Completa

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VersÃ£o: 1.0.0
Data: 26/01/2026
